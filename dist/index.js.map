{"version":3,"sources":["../src/index.ts","../src/seed-generation/generate-seed.ts","../src/sequence-creation/generate-emoji-sequence.ts"],"sourcesContent":["import emojiSequenceToSeed from \"./seed-generation/generate-seed\";\r\nimport generateSequence from \"./sequence-creation/generate-emoji-sequence\";\r\n\r\nexport { emojiSequenceToSeed, generateSequence };","import * as crypto from \"crypto\";\r\n\r\nfunction normalize(str:string) : string {\r\n    return (str || '').normalize('NFKD');\r\n}\r\n\r\nexport default function emojiSequenceToSeed(mnemonic: string): string {\r\n    const mnemonicBuffer = Uint8Array.from(Buffer.from(normalize(mnemonic), 'utf8'));\r\n    const salt = \"emojiseed\";\r\n    return crypto.pbkdf2Sync(mnemonicBuffer, salt, 2048, 64, \"sha512\").toString(\"hex\");\r\n}","import * as crypto from \"crypto\";\r\nimport emojis from \"emoji.json/emoji-compact.json\";\r\n\r\nconst EMOJI_LIST: string[] = emojis\r\n\r\nfunction generateEntropy(bits: number): Buffer {\r\n  return crypto.randomBytes(bits / 8);\r\n}\r\n\r\nfunction entropyToMnemonic(entropy: Buffer): string {\r\n  const entropyBits = Array.from(entropy)\r\n    .map((byte) => byte.toString(2).padStart(8, '0'))\r\n    .join('');\r\n\r\n  const checksumBits = crypto.createHash(\"sha256\")\r\n    .update(entropy)\r\n    .digest()\r\n    .toString(\"hex\")\r\n    .slice(0, entropy.length / 4)\r\n    .split('')\r\n    .map((hex) => parseInt(hex, 16).toString(2).padStart(4, '0'))\r\n    .join('');\r\n\r\n  const bits = entropyBits + checksumBits;\r\n  const mnemonic: string[] = [];\r\n\r\n  for (let i = 0; i < bits.length; i += 11) {\r\n    const idx = parseInt(bits.slice(i, i + 11), 2);\r\n    mnemonic.push(EMOJI_LIST[idx % EMOJI_LIST.length]); \r\n  }\r\n  return mnemonic.join(\" \");\r\n}\r\n\r\nexport default function generateSequence(bits: number = 32): string {\r\n  const entropy = generateEntropy(bits);\r\n  const mnemonic = entropyToMnemonic(entropy);\r\n  return mnemonic\r\n}"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;ACAA,aAAwB;AAExB,SAAS,UAAU,KAAqB;AACpC,UAAQ,OAAO,IAAI,UAAU,MAAM;AACvC;AAEe,SAAR,oBAAqC,UAA0B;AAClE,QAAM,iBAAiB,WAAW,KAAK,OAAO,KAAK,UAAU,QAAQ,GAAG,MAAM,CAAC;AAC/E,QAAM,OAAO;AACb,SAAc,kBAAW,gBAAgB,MAAM,MAAM,IAAI,QAAQ,EAAE,SAAS,KAAK;AACrF;;;ACVA,IAAAA,UAAwB;AACxB,2BAAmB;AAEnB,IAAM,aAAuB,qBAAAC;AAE7B,SAAS,gBAAgB,MAAsB;AAC7C,SAAc,oBAAY,OAAO,CAAC;AACpC;AAEA,SAAS,kBAAkB,SAAyB;AAClD,QAAM,cAAc,MAAM,KAAK,OAAO,EACnC,IAAI,CAAC,SAAS,KAAK,SAAS,CAAC,EAAE,SAAS,GAAG,GAAG,CAAC,EAC/C,KAAK,EAAE;AAEV,QAAM,eAAsB,mBAAW,QAAQ,EAC5C,OAAO,OAAO,EACd,OAAO,EACP,SAAS,KAAK,EACd,MAAM,GAAG,QAAQ,SAAS,CAAC,EAC3B,MAAM,EAAE,EACR,IAAI,CAAC,QAAQ,SAAS,KAAK,EAAE,EAAE,SAAS,CAAC,EAAE,SAAS,GAAG,GAAG,CAAC,EAC3D,KAAK,EAAE;AAEV,QAAM,OAAO,cAAc;AAC3B,QAAM,WAAqB,CAAC;AAE5B,WAAS,IAAI,GAAG,IAAI,KAAK,QAAQ,KAAK,IAAI;AACxC,UAAM,MAAM,SAAS,KAAK,MAAM,GAAG,IAAI,EAAE,GAAG,CAAC;AAC7C,aAAS,KAAK,WAAW,MAAM,WAAW,MAAM,CAAC;AAAA,EACnD;AACA,SAAO,SAAS,KAAK,GAAG;AAC1B;AAEe,SAAR,iBAAkC,OAAe,IAAY;AAClE,QAAM,UAAU,gBAAgB,IAAI;AACpC,QAAM,WAAW,kBAAkB,OAAO;AAC1C,SAAO;AACT;","names":["crypto","emojis"]}